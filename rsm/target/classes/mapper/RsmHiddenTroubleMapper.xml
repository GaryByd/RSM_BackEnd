<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rc.mapper.RsmHiddenTroubleMapper">
    <update id="updateHiddenById">
        update rsm_hidden_trouble
        <set>
            <if test="status != null">
                status = #{status},
            </if>
            <if test="handleImgPath != null">
                handle_img_path = #{handleImgPath},
            </if>
            <if test="handlerId != null">
                handler_id = #{handlerId},
            </if>
            <if test="rectifyDesc != null">
                rectify_desc = #{rectifyDesc},
            </if>
            <if test="rectifyTime != null">
                rectify_time = #{rectifyTime},
            </if>
            <if test="remark != null">
                remark = #{remark},
            </if>
        </set>
    </update>

    <select id="getHiddenTroubleList" resultType="com.rc.domain.entity.RsmHiddenTrouble">
        select * from rsm_hidden_trouble
        <where>
            <if test="status != null">
                and status = #{status}
            </if>
            <if test="troubleClassify != null">
                and trouble_classify = #{troubleClassify}
            </if>
            <if test="source != null">
                and source = #{source}
            </if>
        </where>
    </select>
</mapper>
